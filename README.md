# test_pwa

Chat PWA - React Web Application

React приложение для веб и PWA с корректной контейнеризацией чата и поддержкой safe-area на всех платформах.

## Особенности

- ✅ React 18 с Vite
- ✅ PWA поддержка с автоматическим обновлением
- ✅ Safe-area поддержка для iOS, Android и Desktop
- ✅ Корректная работа с системной клавиатурой
- ✅ Адаптивный дизайн для мобильных и десктопных устройств

## Установка

```bash
npm install
```

## Разработка

```bash
npm run dev
```

Приложение будет доступно по адресу:
- **Локально**: `http://localhost:5173`
- **В сети**: `http://192.168.0.29:5173` (для доступа с телефона)

## Сборка для Production

```bash
npm run build
```

Собранные файлы будут в папке `dist/`

## Предпросмотр production сборки

```bash
npm run preview
```

## PWA Иконки

Для полной поддержки PWA нужны иконки:
- `public/pwa-192x192.png` (192x192 пикселей)
- `public/pwa-512x512.png` (512x512 пикселей)

Вы можете:
1. Использовать генератор: откройте `public/create-icons.html` в браузере
2. Создать иконки вручную и поместить в папку `public/`
3. Использовать онлайн генератор PWA иконок

## Установка PWA на устройство

### iOS (Safari):
1. Откройте приложение в Safari
2. Нажмите кнопку "Поделиться"
3. Выберите "На экран «Домой»"
4. Подтвердите установку

### Android (Chrome):
1. Откройте приложение в Chrome
2. Появится баннер "Добавить на главный экран"
3. Или через меню → "Добавить на главный экран"

## Структура проекта

```
├── public/
│   ├── pwa-192x192.png      # Иконка PWA 192x192
│   ├── pwa-512x512.png      # Иконка PWA 512x512
│   └── create-icons.html    # Генератор иконок
├── src/
│   ├── components/
│   │   ├── ChatPage.jsx      # Основной компонент чата
│   │   └── ChatPage.css      # Стили чата с safe-area
│   ├── App.jsx               # Главный компонент приложения
│   ├── App.css
│   ├── main.jsx              # Точка входа + регистрация SW
│   └── index.css             # Глобальные стили
├── index.html                # HTML шаблон
├── vite.config.js            # Конфигурация Vite и PWA
└── package.json
```

## Safe Area Support

Приложение автоматически определяет и применяет safe-area insets для:
- iOS Safari (старые и новые версии)
- Android Chrome
- PWA режим
- Desktop браузеры (fallback на 0)

## Системная клавиатура

При фокусе на input поле:
- Автоматически открывается системная клавиатура устройства
- Контент адаптируется благодаря `100dvh` (dynamic viewport height)
- Input area остается видимым над клавиатурой

## PWA Функции

- ✅ Service Worker для офлайн работы
- ✅ Манифест для установки
- ✅ Автоматическое обновление
- ✅ Standalone режим
- ✅ Поддержка safe-area в PWA режиме

